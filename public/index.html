<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Homonormative Chess</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Pro:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="background-pattern"></div>
  
  <!-- Landing Screen -->
  <div id="home-screen" class="screen active">
    <div class="landing-container">
      <div class="crown-decoration">â™› â™š â™›</div>
      <h1 class="main-title">Homonormative Chess</h1>
      <p class="subtitle">Where every ruler has an equal</p>
      
      <div class="variant-selection">
        <h2>Choose Your Sexuality</h2>
        <div class="variant-cards">
          <button class="variant-card" data-variant="double-kings">
            <div class="variant-icon">â™šâ™š</div>
            <h3>Double Kings</h3>
            <p>Two kings reign together. Capture either to win.</p>
            <div class="variant-pieces">â™œâ™â™â™šâ™šâ™â™â™œ</div>
          </button>
          <button class="variant-card" data-variant="double-queens">
            <div class="variant-icon">â™›â™›</div>
            <h3>Double Queens</h3>
            <p>Two queens command the board. Eliminate either to triumph.</p>
            <div class="variant-pieces">â™œâ™â™â™›â™›â™â™â™œ</div>
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Setup/Lobby Screen -->
  <div id="setup-screen" class="screen">
    <div class="lobby-container">
      <button class="back-btn" id="setup-back-btn">â† Back</button>
      <h1 class="lobby-title" id="setup-variant-name">Double Kings Chess</h1>
      
      <div class="lobby-options">
        <div class="mode-selection">
          <button class="mode-btn active" data-mode="online">
            <span class="mode-icon">ğŸŒ</span>
            <span>Play Online</span>
          </button>
          <button class="mode-btn" data-mode="local">
            <span class="mode-icon">ğŸ¯</span>
            <span>Over the Board</span>
          </button>
        </div>
        
        <div class="time-selection">
          <h3>Time Control</h3>
          <div class="time-presets">
            <div class="preset-category">
              <span class="category-label">Rapid</span>
              <div class="preset-buttons">
                <button class="preset-btn" data-time="30" data-increment="0">30 min</button>
                <button class="preset-btn" data-time="15" data-increment="10">15 | 10</button>
                <button class="preset-btn active" data-time="10" data-increment="0">10 min</button>
                <button class="preset-btn" data-time="5" data-increment="0">5 min</button>
              </div>
            </div>
            <div class="preset-category">
              <span class="category-label">Blitz</span>
              <div class="preset-buttons">
                <button class="preset-btn" data-time="3" data-increment="2">3 | 2</button>
                <button class="preset-btn" data-time="3" data-increment="0">3 min</button>
              </div>
            </div>
            <div class="preset-category">
              <span class="category-label">Bullet</span>
              <div class="preset-buttons">
                <button class="preset-btn" data-time="2" data-increment="1">2 | 1</button>
                <button class="preset-btn" data-time="1" data-increment="0">1 min</button>
              </div>
            </div>
          </div>
        </div>
        
        <div class="online-only">
          <div class="lobby-card create-game">
            <div class="card-icon">âš”</div>
            <h3>Create Game</h3>
            <p>Start a new game and invite a friend</p>
            <button class="btn btn-primary" id="create-game-btn">Create Game</button>
          </div>
          
          <div class="divider">
            <span>OR</span>
          </div>
          
          <div class="lobby-card join-game">
            <div class="card-icon">ğŸ¤</div>
            <h3>Join Game</h3>
            <p>Enter a game code to join</p>
            <div class="join-inputs">
              <input type="text" id="game-code-input" placeholder="Game Code" maxlength="6">
              <button class="btn btn-secondary" id="join-game-btn">Join Game</button>
            </div>
          </div>
        </div>
        
        <button class="btn btn-primary start-local-btn" id="start-game-btn">Start Game</button>
      </div>
    </div>
  </div>
  
  <!-- Waiting Screen -->
  <div id="waiting-screen" class="screen">
    <div class="waiting-container">
      <h1>Waiting for Opponent</h1>
      <div class="game-code-display">
        <p>Share this code with your friend:</p>
        <div class="code-box">
          <span id="display-game-code">------</span>
          <button class="copy-btn" id="copy-code-btn">Copy</button>
        </div>
      </div>
      <div class="loading-animation">
        <div class="chess-loader">
          <span>â™”</span>
          <span>â™•</span>
          <span>â™”</span>
        </div>
      </div>
      <button class="btn btn-danger" id="cancel-wait-btn">Cancel</button>
    </div>
  </div>
  
  <!-- Game Screen -->
  <div id="game-screen" class="screen">
    <div class="game-container">
      <div class="game-header">
        <div class="player-info opponent">
          <div class="player-avatar opponent-avatar">â™Ÿ</div>
          <div class="player-details">
            <span class="player-name" id="opponent-name">Opponent</span>
            <span class="player-color opponent-color"></span>
          </div>
          <div class="player-timer" id="opponent-timer">10:00</div>
        </div>
        
        <div class="game-info">
          <div class="variant-badge" id="game-variant-badge">Double Kings</div>
          <div class="game-status" id="game-status">White's Turn</div>
        </div>
        
        <div class="player-info self">
          <div class="player-timer" id="player-timer">10:00</div>
          <div class="player-details">
            <span class="player-name" id="player-name">You</span>
            <span class="player-color self-color"></span>
          </div>
          <div class="player-avatar self-avatar">â™™</div>
        </div>
      </div>
      
      <div class="board-container">
        <div class="board-frame">
          <div class="corner-decoration tl">â™œ</div>
          <div class="corner-decoration tr">â™–</div>
          <div class="corner-decoration bl">â™–</div>
          <div class="corner-decoration br">â™œ</div>
          <div id="chess-board" class="chess-board"></div>
        </div>
      </div>
      
      <div class="move-list-container">
        <h3>Moves</h3>
        <div class="move-list" id="move-list"></div>
      </div>
      
      <div class="game-controls">
        <button class="btn btn-control" id="offer-draw-btn" title="Offer Draw">Â½ Draw</button>
        <button class="btn btn-control" id="takeback-btn" title="Request Takeback">â†© Takeback</button>
        <button class="btn btn-danger" id="resign-btn">ğŸ³ Resign</button>
      </div>
    </div>
  </div>
  
  <!-- Promotion Modal -->
  <div id="promotion-modal" class="modal">
    <div class="modal-content">
      <h2>Promote Pawn</h2>
      <div class="promotion-options" id="promotion-options"></div>
    </div>
  </div>
  
  <!-- Offer Modal (Draw/Takeback) -->
  <div id="offer-modal" class="modal">
    <div class="modal-content">
      <div class="modal-icon">ğŸ¤</div>
      <h2 id="offer-title">Draw Offer</h2>
      <p id="offer-message">Your opponent offers a draw.</p>
      <div class="modal-buttons">
        <button class="btn btn-primary" id="accept-offer-btn">Accept</button>
        <button class="btn btn-danger" id="decline-offer-btn">Decline</button>
      </div>
    </div>
  </div>
  
  <!-- Game Over Modal -->
  <div id="game-over-modal" class="modal">
    <div class="modal-content">
      <div class="modal-icon" id="modal-icon">â™”</div>
      <h2 id="game-over-title">Game Over</h2>
      <p id="game-over-message">White wins!</p>
      <div class="modal-buttons">
        <button class="btn btn-primary" id="new-game-btn">Play Again</button>
      </div>
    </div>
  </div>
  
  <!-- Toast Notifications -->
  <div id="toast-container"></div>
  
  <script src="/chess.js"></script>
  <script src="/app.js"></script>
</body>
</html>
